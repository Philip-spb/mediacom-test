# Приложение по управлению депертаментами и сотрудниками

### Инструкция по разворачиванию приложения в контейнере docker

Запускаем команду `docker-compose up -d`

Данная команда запустит контейнер с образом системы.
В системе уже созданы тестовые данные пользователей и департаментов

## Использование приложения

Вход в админку: http://127.0.0.1:8000/admin/
логин/пароль суперпользователя: admin/000000

Возможно редактирование следующих моделей:
Департаменты и Пользователи

В качестве директора департамента можно выбрать только того пользователя, который еще не состоит ни в одном 
департаменте или является членом именно этого департамента

### Доступ к Swagger

http://127.0.0.1:8000/swagger/

### API

**Просмотр всех департаментов:**

`GET http://127.0.0.1:8000/api/v1/departments/`

total_workers – общее число сотрудников

salary_fund – суммарная зарплата всех сотрудников

**Просмотр всех сотрудников:**

`GET http://127.0.0.1:8000/api/v1/users/`

По сотрудникам возможна фильтрация по следующим параметрам

**Фамилия сотрудника – параметр last_name**

`GET http://127.0.0.1:8000/api/v1/users/?last_name=Иванов`

**ID отдела – параметр department**

`GET http://127.0.0.1:8000/api/v1/users/?department=1`


**Добавление сотрудника:**

`POST http://127.0.0.1:8000/api/v1/users/`

`{
  "username": "vasa213",
  "position": "тестер",
  "first_name": "Василий"
}
`

_**username**_ – обязательное поле

**Удаление сотрудника:**

`DELETE http://127.0.0.1:8000/api/v1/users/<user id>/`


## Задача

Описание

Описание задачи
Разработать API для представления структуры компании:
Список департаментов
Список сотрудников (как общий, так и по департаментам отдельно)
Модель данных:

Сотрудник содержит атрибуты:
ФИО
Фото
Должность
Оклад
Возраст
Департамент

Департамент содержит:
Название
Связь с сотрудником - директором департамента

Должна быть обеспечена уникальности связки “сотрудник-департамент”.
Должен быть оптимизирован запрос поиска по фамилии сотрудника.
Админка

Должна быть реализована админка, в которой можно посмотреть на данные модели и их модифицировать.

REST API
API для получения списка сотрудников + реализовать фильтр для поиска по фамилии и по id департамента
Добавление/удаление сотрудников через API
API для получения списка департаментов (включает искусственное поле с числом сотрудников + поле с суммарным окладам по всем сотрудникам)
API со списком сотрудников - с пагинацией, API со списком департаментов - без пагинации
Доступ к списку сотрудников - только для авторизованных пользователей, доступ к списку департаментов - доступен и для анонимных пользователей
Ожидаемый результат
Набор API методов для работы с данными по сотрудникам и департаментам
Swagger документация по API методам
Админка по модели данных
